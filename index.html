<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <link rel="stylesheet" href="style.css">
    <title>Main Page</title>
</head>
<body>
    <h1>Lammy</h1>

    <button class="claim-button" aria-label="Claim reward" id="claimButton" onclick="claimingReward()">
        Claim
    </button>

    <p>
        Points: <span id="pointsDisplay">0</span>
    </p>

    <button class="fullscreen-button" onclick="triggerFullscreen()" aria-label="Enter fullscreen">
        Fullscreen
    </button>

    <div class="button-container">
        <a href="Bot/html/left_page.html" class="button" aria-label="Go left"><-------</a>
        <a href="Bot/html/right_page.html" class="button" aria-label="Go right">-------></a>
    </div>

    <script>
        // Retrieve points from localStorage or initialize to 0 if not available
        let points = localStorage.getItem("points") ? parseInt(localStorage.getItem("points")) : 0;
        document.getElementById("pointsDisplay").textContent = points;

        function triggerFullscreen() {
            if (document.documentElement.requestFullscreen) {
                document.documentElement.requestFullscreen();
            } else if (document.documentElement.webkitRequestFullscreen) { /* Safari */
                document.documentElement.webkitRequestFullscreen();
            } else if (document.documentElement.msRequestFullscreen) { /* IE11 */
                document.documentElement.msRequestFullscreen();
            }
        }

        function claimingReward() {
            if (document.getElementById("claimButton").disabled) {
                return; // Prevent further clicks if already claimed
            }

            points++; // Increment points by 1
            document.getElementById("pointsDisplay").textContent = points; // Update the displayed points

            // Save points to localStorage
            localStorage.setItem("points", points);

            document.getElementById("claimButton").disabled = true; // Disable the button after clicking

            // Start the timer countdown
            let timeLeft = 5; // Timer set to 5 seconds
            document.getElementById("claimButton").textContent = timeLeft + "s"; // Display the countdown on the button

            // Update the button text every second
            const timerInterval = setInterval(function() {
                timeLeft--;
                document.getElementById("claimButton").textContent = timeLeft + "s"; // Update the button text
                if (timeLeft <= 0) {
                    clearInterval(timerInterval); // Stop the timer
                    document.getElementById("claimButton").disabled = false; // Re-enable the button
                    document.getElementById("claimButton").textContent = "Claim"; // Reset the button text
                }
            }, 1000); // Update every second
        }
    </script>
</body>
</html>
